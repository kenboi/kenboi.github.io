(self["webpackChunkqwitter"]=self["webpackChunkqwitter"]||[]).push([[624],{5624:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>j});var l=o(3673),n=o(8880),a=o(2323);const s={class:"q-py-lg q-px-md row items-end q-col-gutter-md"},d={class:"col"},c=(0,l.Wm)("img",{src:"https://cdn.quasar.dev/img/avatar5.jpg"},null,-1),i={class:"col-shrink"},r=(0,l.Wm)("img",{src:"https://cdn.quasar.dev/img/avatar2.jpg"},null,-1),u=(0,l.Wm)("strong",null,"Kendrick Kilat",-1),w={class:"text-grey-7"},m=(0,l.Uk)(" @kendrickkilat "),f=(0,l.Wm)("br",{class:"lt-sm"},null,-1),p={class:"row justify-between q-mt-sm qweet-icons"};function g(e,t,o,g,h,q){const k=(0,l.up)("q-avatar"),Q=(0,l.up)("q-input"),W=(0,l.up)("q-btn"),v=(0,l.up)("q-separator"),y=(0,l.up)("q-item-section"),b=(0,l.up)("q-item-label"),C=(0,l.up)("q-item"),Z=(0,l.up)("q-list"),_=(0,l.up)("q-scroll-area"),x=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(x,{class:"relative-position"},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{class:"absolute full-width full-height"},{default:(0,l.w5)((()=>[(0,l.Wm)("div",s,[(0,l.Wm)("div",d,[(0,l.Wm)(Q,{class:"new-qweet","bottom-slots":"",modelValue:e.newQweetContent,"onUpdate:modelValue":t[1]||(t[1]=t=>e.newQweetContent=t),placeholder:"What's happening?",counter:"",maxlength:"280",autogrow:""},{before:(0,l.w5)((()=>[(0,l.Wm)(k,{size:"xl"},{default:(0,l.w5)((()=>[c])),_:1})])),_:1},8,["modelValue"])]),(0,l.Wm)("div",i,[(0,l.Wm)(W,{onClick:e.addNewQweet,unelevated:"",rounded:"",class:"q-md-lg",color:"primary",label:"Qweet","no-caps":"",disable:!e.newQweetContent},null,8,["onClick","disable"])])]),(0,l.Wm)(v,{class:"divider",size:"10px",color:"grey-2"}),(0,l.Wm)(Z,null,{default:(0,l.w5)((()=>[(0,l.Wm)(n.W3,{appear:"","enter-active-class":"animated fadeIn slow ","leave-active-class":"animated fadeOut slow"},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.j4)(l.HY,null,(0,l.Ko)(e.qweets,(t=>((0,l.wg)(),(0,l.j4)(C,{key:t.id,class:"q-py-md qweet"},{default:(0,l.w5)((()=>[(0,l.Wm)(y,{avatar:"",top:""},{default:(0,l.w5)((()=>[(0,l.Wm)(k,{size:"xl"},{default:(0,l.w5)((()=>[r])),_:1})])),_:1}),(0,l.Wm)(y,null,{default:(0,l.w5)((()=>[(0,l.Wm)(b,{class:"text-subtitle1"},{default:(0,l.w5)((()=>[u,(0,l.Wm)("span",w,[m,f,(0,l.Uk)("â€¢ "+(0,a.zw)(e.relativeDate(t.date)),1)])])),_:2},1024),(0,l.Wm)(b,{class:"qweet-content text-body1"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,a.zw)(t.content),1)])),_:2},1024),(0,l.Wm)("div",p,[(0,l.Wm)(W,{flat:"",round:"",size:"sm",color:"grey",icon:"far fa-comment"}),(0,l.Wm)(W,{flat:"",round:"",size:"sm",color:"grey",icon:"fas fa-retweet"}),(0,l.Wm)(W,{onClick:o=>e.toggleLiked(t),flat:"",round:"",size:"sm",color:t.liked?"pink":"grey",icon:t.liked?"fas fa-heart":"far fa-heart"},null,8,["onClick","color","icon"]),(0,l.Wm)(W,{onClick:o=>e.deleteQweet(t),flat:"",round:"",size:"sm",color:"grey",icon:"fas fa-trash"},null,8,["onClick"])])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})])),_:1})])),_:1})}var h=o(6280),q=o(2490);const k=(0,l.aZ)({name:"Home",data(){return{newQweetContent:"",qweets:[]}},methods:{relativeDate(e){return(0,h.Z)(e,new Date)},addNewQweet(){console.log("Qweet Added");const e={content:this.newQweetContent,date:Date.now(),liked:!1};console.log(e),q.default.collection("Qweets").add(e).then((function(e){console.log("Document written with ID: ",e.id)})).catch((function(e){console.error("Error adding document: ",e)})),this.newQweetContent=""},deleteQweet(e){q.default.collection("Qweets").doc(e.id).delete().then((function(){console.log("Document succesfully deleted!")})).catch((function(e){console.error("Error removing document",e)}))},toggleLiked(e){console.log("toggledQweet"),console.log(e),q.default.collection("Qweets").doc(e.id).update({liked:!e.liked}).then((function(){console.log("Document succesfully updated!")})).catch((function(e){console.error("Error updating document",e)}))}},mounted(){q.default.collection("Qweets").orderBy("date").onSnapshot((e=>{e.docChanges().forEach((e=>{const t=e.doc.data();if(t.id=e.doc.id,"added"===e.type&&(console.log("New qweet: ",t),this.qweets.unshift(t)),"modified"===e.type){console.log("Modified qweet: ",t);const e=this.qweets.findIndex((e=>e.id===t.id));Object.assign(this.qweets[e],t)}if("removed"===e.type){console.log("Removed qweet: ",t);const e=this.qweets.findIndex((e=>e.id===t.id));this.qweets.splice(e,1)}}))}))}});var Q=o(4379),W=o(7704),v=o(6805),y=o(5096),b=o(4607),C=o(5869),Z=o(7011),_=o(3414),x=o(2035),z=o(2350),D=o(7518),I=o.n(D);k.render=g;const j=k;I()(k,"components",{QPage:Q.Z,QScrollArea:W.Z,QInput:v.Z,QAvatar:y.Z,QBtn:b.Z,QSeparator:C.Z,QList:Z.Z,QItem:_.Z,QItemSection:x.Z,QItemLabel:z.Z})}}]);